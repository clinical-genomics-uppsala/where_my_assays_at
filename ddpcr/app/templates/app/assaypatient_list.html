<!DOCTYPE html>
<html lang="en">
{% extends "app/base_generic.html" %}
{% load bootstrap_icons %} <!-- Borde man inte kunna ladda det i base_generic, hur?? -->
<!-- pip install django-bootstrap-icons -->
{% block content %}
<h1>Assay Patients<a href="{% url 'assayPatient-create' %}"><button type="button" class = "btn btn-default"><span class="badge bg-light text-dark">New</span></button></a></h1>
{% if assaypatient_list %}
  <div class="table-responsive">
    <table id="table_id" class="table table-striped table-hover">
      <thead>
        <tr>
          <th>Study ID</th>
          <th>Assay</th>
          <th>Date Added</th>
          <th>Edit</th>
        </tr>
      </thead>
      <tbody>
      {% for patient in assaypatient_list %}
        <tr>
         <td><a href="{{ patient.get_absolute_url }}">{{ patient.study_id }}</a></td>
         <td>{{patient.assay}}</td>
         <td>{{patient.date_added}}</td>
         <td><a href='{% url "assayPatient-update" patient.pk %}'>
           <button type="button" class="btn btn-light ">
             {% bs_icon "pencil-square" %}</button></a></td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
    {% block js %}
      <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/jq-3.3.1/dt-1.10.25/b-1.7.1/date-1.1.0/datatables.min.css"/>

      <script type="text/javascript" src="https://cdn.datatables.net/v/dt/jq-3.3.1/dt-1.10.25/b-1.7.1/date-1.1.0/datatables.min.js"></script>
      <script>
      $(document).ready( function () {
          $('#table_id').DataTable();
      } );
      </script>
      </div>
    {% endblock %}
{% else %}
  <p>There are no patients in the database.</p>
{% endif %}
{% endblock %}
</html>
